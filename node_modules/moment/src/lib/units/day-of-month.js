import { makeGetSet } from '../moment/get-set';
import { addFormatToken } from '../format/format';
import {
    addRege***REMOVED***Token,
    match1to2,
    match2,
    match1to2NoLeadingZero,
} from '../parse/rege***REMOVED***';
import { addParseToken } from '../parse/token';
import { DATE } from './constants';
import toInt from '../utils/to-int';

// FORMATTING

addFormatToken('D', ['DD', 2], 'Do', 'date');

// PARSING

addRege***REMOVED***Token('D', match1to2, match1to2NoLeadingZero);
addRege***REMOVED***Token('DD', match1to2, match2);
addRege***REMOVED***Token('Do', function (isStrict, locale) {
    // TODO: Remove "ordinalParse" fallback in ne***REMOVED***t major release.
    return isStrict
        ? locale._dayOfMonthOrdinalParse || locale._ordinalParse
        : locale._dayOfMonthOrdinalParseLenient;
});

addParseToken(['D', 'DD'], DATE);
addParseToken('Do', function (input, array) {
    array[DATE] = toInt(input.match(match1to2)[0]);
});

// MOMENTS

e***REMOVED***port var getSetDayOfMonth = makeGetSet('Date', true);
