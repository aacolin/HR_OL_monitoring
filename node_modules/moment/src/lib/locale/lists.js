import isNumber from '../utils/is-number';
import { getLocale } from './locales';
import { createUTC } from '../create/utc';

function get(format, inde***REMOVED***, field, setter) {
    var locale = getLocale(),
        utc = createUTC().set(setter, inde***REMOVED***);
    return locale[field](utc, format);
}

function listMonthsImpl(format, inde***REMOVED***, field) {
    if (isNumber(format)) {
        inde***REMOVED*** = format;
        format = undefined;
    }

    format = format || '';

    if (inde***REMOVED*** != null) {
        return get(format, inde***REMOVED***, field, 'month');
    }

    var i,
        out = [];
    for (i = 0; i < 12; i++) {
        out[i] = get(format, i, field, 'month');
    }
    return out;
}

// ()
// (5)
// (fmt, 5)
// (fmt)
// (true)
// (true, 5)
// (true, fmt, 5)
// (true, fmt)
function listWeekdaysImpl(localeSorted, format, inde***REMOVED***, field) {
    if (typeof localeSorted === 'boolean') {
        if (isNumber(format)) {
            inde***REMOVED*** = format;
            format = undefined;
        }

        format = format || '';
    } else {
        format = localeSorted;
        inde***REMOVED*** = format;
        localeSorted = false;

        if (isNumber(format)) {
            inde***REMOVED*** = format;
            format = undefined;
        }

        format = format || '';
    }

    var locale = getLocale(),
        shift = localeSorted ? locale._week.dow : 0,
        i,
        out = [];

    if (inde***REMOVED*** != null) {
        return get(format, (inde***REMOVED*** + shift) % 7, field, 'day');
    }

    for (i = 0; i < 7; i++) {
        out[i] = get(format, (i + shift) % 7, field, 'day');
    }
    return out;
}

e***REMOVED***port function listMonths(format, inde***REMOVED***) {
    return listMonthsImpl(format, inde***REMOVED***, 'months');
}

e***REMOVED***port function listMonthsShort(format, inde***REMOVED***) {
    return listMonthsImpl(format, inde***REMOVED***, 'monthsShort');
}

e***REMOVED***port function listWeekdays(localeSorted, format, inde***REMOVED***) {
    return listWeekdaysImpl(localeSorted, format, inde***REMOVED***, 'weekdays');
}

e***REMOVED***port function listWeekdaysShort(localeSorted, format, inde***REMOVED***) {
    return listWeekdaysImpl(localeSorted, format, inde***REMOVED***, 'weekdaysShort');
}

e***REMOVED***port function listWeekdaysMin(localeSorted, format, inde***REMOVED***) {
    return listWeekdaysImpl(localeSorted, format, inde***REMOVED***, 'weekdaysMin');
}
