'use strict';
module.e***REMOVED***ports = function generate__limit(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $errorKeyword;
  var $data = 'data' + ($dataLvl || '');
  var $isData = it.opts.$data && $schema && $schema.$data,
    $schemaValue;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
    $schemaValue = 'schema' + $lvl;
  } else {
    $schemaValue = $schema;
  }
  var $isMa***REMOVED*** = $keyword == 'ma***REMOVED***imum',
    $e***REMOVED***clusiveKeyword = $isMa***REMOVED*** ? 'e***REMOVED***clusiveMa***REMOVED***imum' : 'e***REMOVED***clusiveMinimum',
    $schemaE***REMOVED***cl = it.schema[$e***REMOVED***clusiveKeyword],
    $isDataE***REMOVED***cl = it.opts.$data && $schemaE***REMOVED***cl && $schemaE***REMOVED***cl.$data,
    $op = $isMa***REMOVED*** ? '<' : '>',
    $notOp = $isMa***REMOVED*** ? '>' : '<',
    $errorKeyword = undefined;
  if (!($isData || typeof $schema == 'number' || $schema === undefined)) {
    throw new Error($keyword + ' must be number');
  }
  if (!($isDataE***REMOVED***cl || $schemaE***REMOVED***cl === undefined || typeof $schemaE***REMOVED***cl == 'number' || typeof $schemaE***REMOVED***cl == 'boolean')) {
    throw new Error($e***REMOVED***clusiveKeyword + ' must be number or boolean');
  }
  if ($isDataE***REMOVED***cl) {
    var $schemaValueE***REMOVED***cl = it.util.getData($schemaE***REMOVED***cl.$data, $dataLvl, it.dataPathArr),
      $e***REMOVED***clusive = 'e***REMOVED***clusive' + $lvl,
      $e***REMOVED***clType = 'e***REMOVED***clType' + $lvl,
      $e***REMOVED***clIsNumber = 'e***REMOVED***clIsNumber' + $lvl,
      $opE***REMOVED***pr = 'op' + $lvl,
      $opStr = '\' + ' + $opE***REMOVED***pr + ' + \'';
    out += ' var schemaE***REMOVED***cl' + ($lvl) + ' = ' + ($schemaValueE***REMOVED***cl) + '; ';
    $schemaValueE***REMOVED***cl = 'schemaE***REMOVED***cl' + $lvl;
    out += ' var ' + ($e***REMOVED***clusive) + '; var ' + ($e***REMOVED***clType) + ' = typeof ' + ($schemaValueE***REMOVED***cl) + '; if (' + ($e***REMOVED***clType) + ' != \'boolean\' && ' + ($e***REMOVED***clType) + ' != \'undefined\' && ' + ($e***REMOVED***clType) + ' != \'number\') { ';
    var $errorKeyword = $e***REMOVED***clusiveKeyword;
    var $$outStack = $$outStack || [];
    $$outStack.push(out);
    out = ''; /* istanbul ignore else */
    if (it.createErrors !== false) {
      out += ' { keyword: \'' + ($errorKeyword || '_e***REMOVED***clusiveLimit') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';
      if (it.opts.messages !== false) {
        out += ' , message: \'' + ($e***REMOVED***clusiveKeyword) + ' should be boolean\' ';
      }
      if (it.opts.verbose) {
        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
      }
      out += ' } ';
    } else {
      out += ' {} ';
    }
    var __err = out;
    out = $$outStack.pop();
    if (!it.compositeRule && $breakOnError) {
      /* istanbul ignore if */
      if (it.async) {
        out += ' throw new ValidationError([' + (__err) + ']); ';
      } else {
        out += ' validate.errors = [' + (__err) + ']; return false; ';
      }
    } else {
      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
    }
    out += ' } else if ( ';
    if ($isData) {
      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'number\') || ';
    }
    out += ' ' + ($e***REMOVED***clType) + ' == \'number\' ? ( (' + ($e***REMOVED***clusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueE***REMOVED***cl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueE***REMOVED***cl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($e***REMOVED***clusive) + ' = ' + ($schemaValueE***REMOVED***cl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($e***REMOVED***clusive) + ' ? \'' + ($op) + '\' : \'' + ($op) + '=\'; ';
    if ($schema === undefined) {
      $errorKeyword = $e***REMOVED***clusiveKeyword;
      $errSchemaPath = it.errSchemaPath + '/' + $e***REMOVED***clusiveKeyword;
      $schemaValue = $schemaValueE***REMOVED***cl;
      $isData = $isDataE***REMOVED***cl;
    }
  } else {
    var $e***REMOVED***clIsNumber = typeof $schemaE***REMOVED***cl == 'number',
      $opStr = $op;
    if ($e***REMOVED***clIsNumber && $isData) {
      var $opE***REMOVED***pr = '\'' + $opStr + '\'';
      out += ' if ( ';
      if ($isData) {
        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'number\') || ';
      }
      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaE***REMOVED***cl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaE***REMOVED***cl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';
    } else {
      if ($e***REMOVED***clIsNumber && $schema === undefined) {
        $e***REMOVED***clusive = true;
        $errorKeyword = $e***REMOVED***clusiveKeyword;
        $errSchemaPath = it.errSchemaPath + '/' + $e***REMOVED***clusiveKeyword;
        $schemaValue = $schemaE***REMOVED***cl;
        $notOp += '=';
      } else {
        if ($e***REMOVED***clIsNumber) $schemaValue = Math[$isMa***REMOVED*** ? 'min' : 'ma***REMOVED***']($schemaE***REMOVED***cl, $schema);
        if ($schemaE***REMOVED***cl === ($e***REMOVED***clIsNumber ? $schemaValue : true)) {
          $e***REMOVED***clusive = true;
          $errorKeyword = $e***REMOVED***clusiveKeyword;
          $errSchemaPath = it.errSchemaPath + '/' + $e***REMOVED***clusiveKeyword;
          $notOp += '=';
        } else {
          $e***REMOVED***clusive = false;
          $opStr += '=';
        }
      }
      var $opE***REMOVED***pr = '\'' + $opStr + '\'';
      out += ' if ( ';
      if ($isData) {
        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'number\') || ';
      }
      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';
    }
  }
  $errorKeyword = $errorKeyword || $keyword;
  var $$outStack = $$outStack || [];
  $$outStack.push(out);
  out = ''; /* istanbul ignore else */
  if (it.createErrors !== false) {
    out += ' { keyword: \'' + ($errorKeyword || '_limit') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opE***REMOVED***pr) + ', limit: ' + ($schemaValue) + ', e***REMOVED***clusive: ' + ($e***REMOVED***clusive) + ' } ';
    if (it.opts.messages !== false) {
      out += ' , message: \'should be ' + ($opStr) + ' ';
      if ($isData) {
        out += '\' + ' + ($schemaValue);
      } else {
        out += '' + ($schemaValue) + '\'';
      }
    }
    if (it.opts.verbose) {
      out += ' , schema:  ';
      if ($isData) {
        out += 'validate.schema' + ($schemaPath);
      } else {
        out += '' + ($schema);
      }
      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    }
    out += ' } ';
  } else {
    out += ' {} ';
  }
  var __err = out;
  out = $$outStack.pop();
  if (!it.compositeRule && $breakOnError) {
    /* istanbul ignore if */
    if (it.async) {
      out += ' throw new ValidationError([' + (__err) + ']); ';
    } else {
      out += ' validate.errors = [' + (__err) + ']; return false; ';
    }
  } else {
    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  }
  out += ' } ';
  if ($breakOnError) {
    out += ' else { ';
  }
  return out;
}
