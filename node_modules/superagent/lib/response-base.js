"use strict";

/**
 * Module dependencies.
 */
var utils = require('./utils');
/**
 * E***REMOVED***pose `ResponseBase`.
 */


module.e***REMOVED***ports = ResponseBase;
/**
 * Initialize a new `ResponseBase`.
 *
 * @api public
 */

function ResponseBase(obj) {
  if (obj) return mi***REMOVED***in(obj);
}
/**
 * Mi***REMOVED***in the prototype properties.
 *
 * @param {Object} obj
 * @return {Object}
 * @api private
 */


function mi***REMOVED***in(obj) {
  for (var key in ResponseBase.prototype) {
    if (Object.prototype.hasOwnProperty.call(ResponseBase.prototype, key)) obj[key] = ResponseBase.prototype[key];
  }

  return obj;
}
/**
 * Get case-insensitive `field` value.
 *
 * @param {String} field
 * @return {String}
 * @api public
 */


ResponseBase.prototype.get = function (field) {
  return this.header[field.toLowerCase()];
};
/**
 * Set header related properties:
 *
 *   - `.type` the content type without params
 *
 * A response of "Content-Type: te***REMOVED***t/plain; charset=utf-8"
 * will provide you with a `.type` of "te***REMOVED***t/plain".
 *
 * @param {Object} header
 * @api private
 */


ResponseBase.prototype._setHeaderProperties = function (header) {
  // TODO: moar!
  // TODO: make this a util
  // content-type
  var ct = header['content-type'] || '';
  this.type = utils.type(ct); // params

  var params = utils.params(ct);

  for (var key in params) {
    if (Object.prototype.hasOwnProperty.call(params, key)) this[key] = params[key];
  }

  this.links = {}; // links

  try {
    if (header.link) {
      this.links = utils.parseLinks(header.link);
    }
  } catch (_unused) {// ignore
  }
};
/**
 * Set flags such as `.ok` based on `status`.
 *
 * For e***REMOVED***ample a 2***REMOVED******REMOVED*** response will give you a `.ok` of __true__
 * whereas 5***REMOVED******REMOVED*** will be __false__ and `.error` will be __true__. The
 * `.clientError` and `.serverError` are also available to be more
 * specific, and `.statusType` is the class of error ranging from 1..5
 * sometimes useful for mapping respond colors etc.
 *
 * "sugar" properties are also defined for common cases. Currently providing:
 *
 *   - .noContent
 *   - .badRequest
 *   - .unauthorized
 *   - .notAcceptable
 *   - .notFound
 *
 * @param {Number} status
 * @api private
 */


ResponseBase.prototype._setStatusProperties = function (status) {
  var type = status / 100 | 0; // status / class

  this.statusCode = status;
  this.status = this.statusCode;
  this.statusType = type; // basics

  this.info = type === 1;
  this.ok = type === 2;
  this.redirect = type === 3;
  this.clientError = type === 4;
  this.serverError = type === 5;
  this.error = type === 4 || type === 5 ? this.toError() : false; // sugar

  this.created = status === 201;
  this.accepted = status === 202;
  this.noContent = status === 204;
  this.badRequest = status === 400;
  this.unauthorized = status === 401;
  this.notAcceptable = status === 406;
  this.forbidden = status === 403;
  this.notFound = status === 404;
  this.unprocessableEntity = status === 422;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9yZXNwb25zZS1iYXNlLmpzIl0sIm5hbWVzIjpbInV0aW***REMOVED***zIiwicmV***REMOVED***dWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJSZXNwb25zZUJhc2UiLCJvYmoiLCJtaXhpbiIsImtleSIsInByb3RvdHlwZSIsIk9iamVjdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImdldCIsImZpZW***REMOVED***kIiwiaGVhZGVyIiwidG9Mb3dlckNhc2UiLCJfc2V0SGVhZGVyUHJvcGVydGllcyIsImN0IiwidHlwZSIsInBhcmFtcyIsIm***REMOVED***pbmtzIiwibGluayIsInBhcnNlTGlua3MiLCJfc2V0U3RhdHVzUHJvcGVydGllcyIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJzdGF0dXNUeXBlIiwiaW5mbyIsIm9rIiwicmVkaXJlY3QiLCJjbGllbnRFcnJvciIsInNlcnZlckVycm9yIiwiZXJyb3IiLCJ0b0Vycm9yIiwiY3JlYXRlZCIsImFjY2VwdGVkIiwibm9Db250ZW50IiwiYmFkUmV***REMOVED***dWVzdCIsInVuYXV0aG9yaXplZCIsIm5vdEFjY2VwdGFibGUiLCJmb3JiaWRkZW4iLCJub3RGb3VuZCIsInVucHJvY2Vzc2FibGVFbnRpdHkiXSwibWFwcGluZ3MiOiI7O0FBQUE7OztBQUlBLElBQU1BLEtBQUssR0FBR0MsT0FBTy***REMOVED***DQUFDLFNBQUQsQ0FBckI7QUFFQTs7Ozs7QUFJQUMsTUFBTS***REMOVED***DQUFDQy***REMOVED***PQUFQLEdBQWlCQy***REMOVED***ZQUFqQjtBQUVBOzs7Ozs7QUFNQS***REMOVED***TQUFTQS***REMOVED***ZQUFULENBQXNCQy***REMOVED***HQUF0Qi***REMOVED***FQUEyQjtBQUN6Qi***REMOVED***NQUFJQS***REMOVED***HQUFKLEVBQVMsT0FBT0MsS0FBSy***REMOVED***DQUFDRC***REMOVED***HQUFELENBQVo7QUFDVjtBQUVEOzs7Ozs7Ozs7QUFRQS***REMOVED***TQUFTQy***REMOVED***LQUFULENBQWVELEdBQWYsRUFBb0I7QUFDbEIsT0FBSy***REMOVED***JQUFNRS***REMOVED***HQUFYLElBQWtCSC***REMOVED***ZQUFZLENBQUNJLFNBQS9CLEVBQTBDO0FBQ3hDLFFBQUlDLE1BQU0sQ0FBQ0QsU0FBUC***REMOVED***DQUFpQkUsY0FBakIsQ0FBZ0NDLElBQWhDLENBQXFDUC***REMOVED***ZQUFZLENBQUNJLFNBQW***REMOVED***ELEVBQTZERC***REMOVED***HQUE3RC***REMOVED***DQUFKLEVBQ0VGLEdBQUcsQ0FBQ0UsR0FBRC***REMOVED***DQUFILEdBQVdILFlBQVksQ0FBQ0ksU0FBYi***REMOVED***DQUF1QkQsR0FBdkIsQ0FBWDtBQUNIOztBQUVELFNBQU9GLEdBQVA7QUFDRDtBQUVEOzs7Ozs7Ozs7QUFRQUQsWUFBWS***REMOVED***DQUFDSS***REMOVED***TQUFiLENBQXVCSS***REMOVED***HQUF2Qi***REMOVED***HQUE2Qi***REMOVED***VQUFTQy***REMOVED***LQUFULEVBQWdCO0FBQzNDLFNBQU8sS0FBS0MsTUFBTC***REMOVED***DQUFZRC***REMOVED***LQUFLLENBQUNFLFdBQU4sRUFBWi***REMOVED***DQUFQO0FBQ0QsQ0FGRDtBQUlBOzs7Ozs7Ozs7Ozs7O0FBWUFYLFlBQVksQ0FBQ0ksU0FBYi***REMOVED***DQUF1QlEsb0JBQXZCLEdBQThDLFVBQVNGLE1BQVQsRUFBaUI7QUFDN0Q7QUFDQTtBQUVBO0FBQ0EsTUFBTUcsRUFBRS***REMOVED***HQUFHSC***REMOVED***NQUFNLENBQUMsY0FBRC***REMOVED***DQUFOLElBQTBCLEVBQXJDO0FBQ0EsT0FBS0ksSUFBTC***REMOVED***HQUFZbEIsS0FBSy***REMOVED***DQUFDa0IsSUFBTi***REMOVED***DQUFXRC***REMOVED***FQUFYLENBQVosQ0FONkQsQ0FRN0Q7O0FBQ0EsTUFBTUUsTUFBTS***REMOVED***HQUFHbkIsS0FBSy***REMOVED***DQUFDbUIsTUFBTi***REMOVED***DQUFhRi***REMOVED***FQUFiLENBQWY7O0FBQ0EsT0FBSy***REMOVED***JQUFNVi***REMOVED***HQUFYLElBQWtCWS***REMOVED***NQUFsQi***REMOVED***FQUEwQjtBQUN4Qi***REMOVED***RQUFJVi***REMOVED***NQUFNLENBQUNELFNBQVAsQ0FBaUJFLGNBQWpCLENBQWdDQy***REMOVED***JQUFoQy***REMOVED***DQUF***REMOVED***Q1EsTUFBckMsRUFBNkNaLEdBQTdDLENBQUosRUFDRS***REMOVED***LQUFLQS***REMOVED***HQUFMLElBQVlZLE1BQU0sQ0FBQ1osR0FBRC***REMOVED***DQUFsQjtBQUNIOztBQUVELE9BQUthLEtBQUwsR0FBYS***REMOVED***FQUFiLENBZjZELENBaUI3RDs7QUFDQS***REMOVED***NQUFJO0FBQ0YsUUFBSU4sTUFBTS***REMOVED***DQUFDTy***REMOVED***JQUFYLEVBQWlCO0FBQ2YsV0FBS0QsS0FBTC***REMOVED***HQUFhcEIsS0FBSy***REMOVED***DQUFDc0IsVUFBTi***REMOVED***DQUFpQlIsTUFBTS***REMOVED***DQUFDTy***REMOVED***JQUF4Qi***REMOVED***DQUFiO0FBQ0Q7QUFDRi***REMOVED***HQUpELENBSUUsZ0JBQU0sQ0FDTjtBQUNEO0FBQ0YsQ0F6QkQ7QUEyQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF***REMOVED***QkFqQi***REMOVED***ZQUFZLENBQUNJLFNBQWIsQ0FBdUJlLG9CQUF2Qi***REMOVED***HQUE4Qy***REMOVED***VQUFTQy***REMOVED***NQUFULEVBQWlCO0FBQzdELE1BQU1OLElBQUksR0FBSU0sTUFBTS***REMOVED***HQUFHLEdBQVYsR0FBaUIsQ0FBOUIsQ0FENkQsQ0FHN0Q7O0FBQ0EsT0FBS0MsVUFBTC***REMOVED***HQUFrQkQsTUFBbEI7QUFDQS***REMOVED***PQUFLQS***REMOVED***NQUFMLEdBQWMsS0FBS0MsVUFBbkI7QUFDQS***REMOVED***PQUFLQy***REMOVED***VQUFMLEdBQWtCUi***REMOVED***JQUFsQi***REMOVED***DQU42RC***REMOVED***DQVE3RDs7QUFDQS***REMOVED***PQUFLUy***REMOVED***JQUFMLEdBQVlULElBQUksS0FBSy***REMOVED***DQUFyQjtBQUNBLE9BQUtVLEVBQUwsR0FBVVYsSUFBSS***REMOVED***LQUFLLENBQW5CO0FBQ0EsT0FBS1csUUFBTC***REMOVED***HQUFnQlgsSUFBSS***REMOVED***LQUFLLENBQXpCO0FBQ0EsT0FBS1ksV0FBTC***REMOVED***HQUFtQlosSUFBSS***REMOVED***LQUFLLENBQTVCO0FBQ0EsT0FBS2EsV0FBTC***REMOVED***HQUFtQmIsSUFBSS***REMOVED***LQUFLLENBQTVCO0FBQ0EsT0FBS2MsS0FBTC***REMOVED***HQUFhZC***REMOVED***JQUFJLEtBQUssQ0FBVC***REMOVED***JQUFjQS***REMOVED***JQUFJLEtBQUssQ0FBdkIsR0FBMkIsS0FBS2UsT0FBTC***REMOVED***FQUEzQi***REMOVED***HQUE0Qy***REMOVED***LQUF6RC***REMOVED***DQWQ2RC***REMOVED***DQWdCN0Q7O0FBQ0EsT0FBS0MsT0FBTC***REMOVED***HQUFlVi***REMOVED***NQUFNLEtBQUssR0FBMUI7QUFDQS***REMOVED***PQUFLVy***REMOVED***RQUFMLEdBQWdCWC***REMOVED***NQUFNLEtBQUssR0FBM0I7QUFDQS***REMOVED***PQUFLWS***REMOVED***TQUFMLEdBQWlCWi***REMOVED***NQUFNLEtBQUssR0FBNUI7QUFDQS***REMOVED***PQUFLYS***REMOVED***VQUFMLEdBQWtCYi***REMOVED***NQUFNLEtBQUssR0FBN0I7QUFDQS***REMOVED***PQUFLYy***REMOVED***ZQUFMLEdBQW9CZC***REMOVED***NQUFNLEtBQUssR0FBL0I7QUFDQS***REMOVED***PQUFLZS***REMOVED***hQUFMLEdBQXFCZi***REMOVED***NQUFNLEtBQUssR0FBaEM7QUFDQS***REMOVED***PQUFLZ0IsU0FBTC***REMOVED***HQUFpQmhCLE1BQU0sS0FBSy***REMOVED***HQUE1QjtBQUNBLE9BQUtpQi***REMOVED***RQUFMLEdBQWdCakIsTUFBTS***REMOVED***LQUFLLEdBQTNCO0FBQ0EsT0FBS2tCLG1CQUFMLEdBQTJCbEIsTUFBTS***REMOVED***LQUFLLEdBQXRDO0FBQ0QsQ0E***REMOVED***QkQiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cbl***REMOVED***uY29uc3QgdXRpbHMgPSByZXF1aXJlKCcuL3V0aW***REMOVED***zJyk7XG5cbi8qKl***REMOVED***uICogRXhwb3NlIGBSZXNwb25zZUJhc2VgLl***REMOVED***uICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVzcG9uc2VCYXNlO1***REMOVED***uXG4vKipcbiAqIEluaXRpYW***REMOVED***pemUgYSBuZXcgYFJlc3BvbnNlQmFzZWAuXG4gKl***REMOVED***uICogQGFwaSBwdWJsaWNcbiAqL1***REMOVED***uXG5mdW5jdGlvbiBSZXNwb25zZUJhc2Uob2JqKSB7XG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1***REMOVED***ufV***REMOVED***uXG4vKipcbiAqIE1peGluIHRoZSBwcm90b3R5cGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1***REMOVED***uXG5mdW5jdGlvbiBtaXhpbihvYmopIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gUmVzcG9uc2VCYXNlLnByb3RvdHlwZSkge1***REMOVED***uICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUmVzcG9uc2VCYXNlLnByb3RvdHlwZSwga2V5KSlcbiAgICAgIG9ialtrZXldID0gUmVzcG9uc2VCYXNlLnByb3RvdHlwZVtrZXldO1***REMOVED***uICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cbl***REMOVED***uLyoqXG4gKiBHZXQgY2FzZS1pbnNlbnNpdGl2ZSBgZmllbGRgIHZhbHVlLl***REMOVED***uICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZF***REMOVED***uICogQHJldHVybiB7U3RyaW5nfV***REMOVED***uICogQGFwaSBwdWJsaWNcbiAqL1***REMOVED***uXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGZpZW***REMOVED***kKSB7XG4gIHJldHVybiB0aGlzLmhlYWRlcltmaWVsZC50b0***REMOVED***vd2VyQ2FzZSgpXTtcbn07XG5cbi8qKl***REMOVED***uICogU2V0IGhlYWRlciByZW***REMOVED***hdGVkIHByb3BlcnRpZXM6XG4gKl***REMOVED***uICogICAtIGAudHlwZWAgdGhlIGNvbnRlbnQgdHlwZSB3aXRob3V0IHBhcmFtc1***REMOVED***uICpcbiAqIEEgcmVzcG9uc2Ugb2YgXCJDb250ZW50LVR5cGU6IHRleHQvcG***REMOVED***haW47IGNoYXJzZXQ9dXRmLThcIl***REMOVED***uICogd2lsbCBwcm92aWRlIHlvdSB3aXRoIGEgYC50eXBlYCBvZiBcInRleHQvcG***REMOVED***haW5cIi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaGVhZGVyXG4gKiBAYXBpIHByaXZhdGVcbiAqL1***REMOVED***uXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLl9zZXRIZWFkZXJQcm9wZXJ0aWVzID0gZnVuY3Rpb24oaGVhZGVyKSB7XG4gIC8vIFRPRE86IG1vYXIhXG4gIC8vIFRPRE86IG1ha2UgdGhpcyBhIHV0aW***REMOVED***cbl***REMOVED***uICAvLyBjb250ZW50LXR5cGVcbiAgY29uc3QgY3QgPSBoZWFkZXJbJ2NvbnRlbnQtdHlwZSddIH***REMOVED***8ICcnO1***REMOVED***uICB0aGlzLnR5cGUgPSB1dGlscy50eXBlKGN0KTtcbl***REMOVED***uICAvLyBwYXJhbXNcbiAgY29uc3QgcGFyYW1zID0gdXRpbHMucGFyYW1zKGN0KTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJhbXMsIGtleSkpXG4gICAgICB0aGlzW2tleV0gPSBwYXJhbXNba2V5XTtcbiAgfV***REMOVED***uXG4gIHRoaXMubGlua3MgPSB7fTtcbl***REMOVED***uICAvLyBsaW5rc1***REMOVED***uICB0cnkge1***REMOVED***uICAgIGlmIChoZWFkZXIubGluaykge1***REMOVED***uICAgICAgdGhpcy5saW5rcyA9IHV0aW***REMOVED***zLnBhcnNlTGlua3MoaGVhZGVyLm***REMOVED***pbmspO1***REMOVED***uICAgIH1cbiAgfSBjYXRjaCB7XG4gICAgLy8gaWdub3JlXG4gIH1cbn07XG5cbi8qKl***REMOVED***uICogU2V0IGZsYWdzIHN1Y2ggYXMgYC5va2AgYmFzZWQgb24gYHN0YXR1c2AuXG4gKl***REMOVED***uICogRm9yIGV4YW1wbGUgYSAyeHggcmVzcG9uc2Ugd2lsbCBnaXZlIHlvdSBhIGAub2tgIG9mIF9fdHJ1ZV9fXG4gKiB3aGVyZWFzIDV4eCB3aW***REMOVED***sIGJlIF9fZmFsc2VfXyBhbmQgYC5lcnJvcmAgd2lsbCBiZSBfX3RydWVfXy4gVGhlXG4gKiBgLmNsaWVudEVycm9yYCBhbmQgYC5zZXJ2ZXJFcnJvcmAgYXJlIGFsc28gYXZhaW***REMOVED***hYm***REMOVED***lIHRvIGJlIG1vcmVcbiAqIHNwZWNpZmljLCBhbmQgYC5zdGF0dXNUeXBlYCBpcyB0aGUgY2***REMOVED***hc3Mgb2YgZXJyb3IgcmFuZ2luZyBmcm9tIDEuLjVcbiAqIHNvbWV0aW1lcyB1c2VmdWwgZm9yIG1hcHBpbmcgcmVzcG9uZCBjb2***REMOVED***vcnMgZXRjLl***REMOVED***uICpcbiAqIFwic3VnYXJcIiBwcm9wZXJ0aWVzIGFyZSBhbHNvIGRlZmluZWQgZm9yIGNvbW1vbiBjYXNlcy4gQ3VycmVudG***REMOVED***5IHByb3ZpZGluZzpcbiAqXG4gKiAgIC0gLm5vQ29udGVudF***REMOVED***uICogICAtIC5iYWRSZXF1ZXN0XG4gKiAgIC0gLnVuYXV0aG9yaXplZF***REMOVED***uICogICAtIC5ub3RBY2NlcHRhYm***REMOVED***lXG4gKiAgIC0gLm5vdEZvdW5kXG4gKl***REMOVED***uICogQHBhcmFtIHtOdW1iZXJ9IHN0YXR1c1***REMOVED***uICogQGFwaSBwcml2YXRlXG4gKi9cbl***REMOVED***uUmVzcG9uc2VCYXNlLnByb3RvdHlwZS5fc2V0U3RhdHVzUHJvcGVydGllcyA9IGZ1bmN0aW9uKHN0YXR1cykge1***REMOVED***uICBjb25zdCB0eXBlID0gKHN0YXR1cyAvIDEwMCkgfCAwO1***REMOVED***uXG4gIC8vIHN0YXR1cyAvIGNsYXNzXG4gIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1cztcbiAgdGhpcy5zdGF0dXMgPSB0aGlzLnN0YXR1c0NvZGU7XG4gIHRoaXMuc3RhdHVzVHlwZSA9IHR5cGU7XG5cbiAgLy8gYmFzaWNzXG4gIHRoaXMuaW5mbyA9IHR5cGUgPT09IDE7XG4gIHRoaXMub2sgPSB0eXBlID09PSAyO1***REMOVED***uICB0aGlzLnJlZGlyZWN0ID0gdHlwZSA9PT0gMztcbiAgdGhpcy5jbGllbnRFcnJvciA9IHR5cGUgPT09IDQ7XG4gIHRoaXMuc2VydmVyRXJyb3IgPSB0eXBlID09PSA1O1***REMOVED***uICB0aGlzLmVycm9yID0gdHlwZSA9PT0gNCB8fCB0eXBlID09PSA1ID8gdGhpcy50b0Vycm9yKCkgOiBmYW***REMOVED***zZTtcbl***REMOVED***uICAvLyBzdWdhcl***REMOVED***uICB0aGlzLmNyZWF0ZWQgPSBzdGF0dXMgPT09IDIwMTtcbiAgdGhpcy5hY2NlcHRlZCA9IHN0YXR1cyA9PT0gMjAyO1***REMOVED***uICB0aGlzLm5vQ29udGVudCA9IHN0YXR1cyA9PT0gMjA0O1***REMOVED***uICB0aGlzLmJhZFJlcXVlc3QgPSBzdGF0dXMgPT09IDQwMDtcbiAgdGhpcy51bmF1dGhvcml6ZWQgPSBzdGF0dXMgPT09IDQwMTtcbiAgdGhpcy5ub3RBY2NlcHRhYm***REMOVED***lID0gc3RhdHVzID09PSA0MDY7XG4gIHRoaXMuZm9yYmlkZGVuID0gc3RhdHVzID09PSA0MDM7XG4gIHRoaXMubm90Rm91bmQgPSBzdGF0dXMgPT09IDQwNDtcbiAgdGhpcy51bnByb2Nlc3NhYm***REMOVED***lRW50aXR5ID0gc3RhdHVzID09PSA0MjI7XG59O1***REMOVED***uIl19