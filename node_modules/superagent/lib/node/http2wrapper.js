"use strict";

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var Stream = require('stream');

var util = require('util');

var net = require('net');

var tls = require('tls'); // eslint-disable-ne***REMOVED***t-line node/no-deprecated-api


var _require = require('url'),
    parse = _require.parse;

var semver = require('semver');

var http2;
if (semver.gte(process.version, 'v10.10.0')) http2 = require('http2');else throw new Error('superagent: this version of Node.js does not support http2');
var _http2$constants = http2.constants,
    HTTP2_HEADER_PATH = _http2$constants.HTTP2_HEADER_PATH,
    HTTP2_HEADER_STATUS = _http2$constants.HTTP2_HEADER_STATUS,
    HTTP2_HEADER_METHOD = _http2$constants.HTTP2_HEADER_METHOD,
    HTTP2_HEADER_AUTHORITY = _http2$constants.HTTP2_HEADER_AUTHORITY,
    HTTP2_HEADER_HOST = _http2$constants.HTTP2_HEADER_HOST,
    HTTP2_HEADER_SET_COOKIE = _http2$constants.HTTP2_HEADER_SET_COOKIE,
    NGHTTP2_CANCEL = _http2$constants.NGHTTP2_CANCEL;

function setProtocol(protocol) {
  return {
    request: function request(options) {
      return new Request(protocol, options);
    }
  };
}

function Request(protocol, options) {
  var _this = this;

  Stream.call(this);
  var defaultPort = protocol === 'https:' ? 443 : 80;
  var defaultHost = 'localhost';
  var port = options.port || defaultPort;
  var host = options.host || defaultHost;
  delete options.port;
  delete options.host;
  this.method = options.method;
  this.path = options.path;
  this.protocol = protocol;
  this.host = host;
  delete options.method;
  delete options.path;

  var sessionOptions = _objectSpread({}, options);

  if (options.socketPath) {
    sessionOptions.socketPath = options.socketPath;
    sessionOptions.createConnection = this.createUni***REMOVED***Connection.bind(this);
  }

  this._headers = {};
  var session = http2.connect("".concat(protocol, "//").concat(host, ":").concat(port), sessionOptions);
  this.setHeader('host', "".concat(host, ":").concat(port));
  session.on('error', function (err) {
    return _this.emit('error', err);
  });
  this.session = session;
}
/**
 * Inherit from `Stream` (which inherits from `EventEmitter`).
 */


util.inherits(Request, Stream);

Request.prototype.createUni***REMOVED***Connection = function (authority, options) {
  switch (this.protocol) {
    case 'http:':
      return net.connect(options.socketPath);

    case 'https:':
      options.ALPNProtocols = ['h2'];
      options.servername = this.host;
      options.allowHalfOpen = true;
      return tls.connect(options.socketPath, options);

    default:
      throw new Error('Unsupported protocol', this.protocol);
  }
}; // eslint-disable-ne***REMOVED***t-line no-unused-vars


Request.prototype.setNoDelay = function (bool) {// We can not use setNoDelay with HTTP/2.
  // Node 10 limits http2session.socket methods to ones safe to use with HTTP/2.
  // See also https://nodejs.org/api/http2.html#http2_http2session_socket
};

Request.prototype.getFrame = function () {
  var _method,
      _this2 = this;

  if (this.frame) {
    return this.frame;
  }

  var method = (_method = {}, _defineProperty(_method, HTTP2_HEADER_PATH, this.path), _defineProperty(_method, HTTP2_HEADER_METHOD, this.method), _method);
  var headers = this.mapToHttp2Header(this._headers);
  headers = Object.assign(headers, method);
  var frame = this.session.request(headers); // eslint-disable-ne***REMOVED***t-line no-unused-vars

  frame.once('response', function (headers, flags) {
    headers = _this2.mapToHttpHeader(headers);
    frame.headers = headers;
    frame.statusCode = headers[HTTP2_HEADER_STATUS];
    frame.status = frame.statusCode;

    _this2.emit('response', frame);
  });
  this._headerSent = true;
  frame.once('drain', function () {
    return _this2.emit('drain');
  });
  frame.on('error', function (err) {
    return _this2.emit('error', err);
  });
  frame.on('close', function () {
    return _this2.session.close();
  });
  this.frame = frame;
  return frame;
};

Request.prototype.mapToHttpHeader = function (headers) {
  var keys = Object.keys(headers);
  var http2Headers = {};

  for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {
    var key = _keys[_i];
    var value = headers[key];
    key = key.toLowerCase();

    switch (key) {
      case HTTP2_HEADER_SET_COOKIE:
        value = Array.isArray(value) ? value : [value];
        break;

      default:
        break;
    }

    http2Headers[key] = value;
  }

  return http2Headers;
};

Request.prototype.mapToHttp2Header = function (headers) {
  var keys = Object.keys(headers);
  var http2Headers = {};

  for (var _i2 = 0, _keys2 = keys; _i2 < _keys2.length; _i2++) {
    var key = _keys2[_i2];
    var value = headers[key];
    key = key.toLowerCase();

    switch (key) {
      case HTTP2_HEADER_HOST:
        key = HTTP2_HEADER_AUTHORITY;
        value = /^http:\/\/|^https:\/\//.test(value) ? parse(value).host : value;
        break;

      default:
        break;
    }

    http2Headers[key] = value;
  }

  return http2Headers;
};

Request.prototype.setHeader = function (name, value) {
  this._headers[name.toLowerCase()] = value;
};

Request.prototype.getHeader = function (name) {
  return this._headers[name.toLowerCase()];
};

Request.prototype.write = function (data, encoding) {
  var frame = this.getFrame();
  return frame.write(data, encoding);
};

Request.prototype.pipe = function (stream, options) {
  var frame = this.getFrame();
  return frame.pipe(stream, options);
};

Request.prototype.end = function (data) {
  var frame = this.getFrame();
  frame.end(data);
}; // eslint-disable-ne***REMOVED***t-line no-unused-vars


Request.prototype.abort = function (data) {
  var frame = this.getFrame();
  frame.close(NGHTTP2_CANCEL);
  this.session.destroy();
};

e***REMOVED***ports.setProtocol = setProtocol;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ub2RlL2h0dHAyd3JhcHBlci5qcyJdLCJuYW1lcyI6WyJTdHJlYW0iLCJyZXF1aXJlIiwidXRpbCIsIm5ldCIsInRscyIsInBhcnNlIiwic2VtdmVyIiwiaHR0cDIiLCJndGUiLCJwcm9jZXNzIiwidmVyc2lvbiIsIkVycm9yIiwiY29uc3RhbnRzIiwiSFRUUDJfSEVBREVSX1BBVEgiLCJIVFRQMl9IRUFERVJfU1RBVFVTIiwiSFRUUDJfSEVBREVSX01FVEhPRCIsIkhUVFAyX0hFQURFUl9BVVRIT1JJVFkiLCJIVFRQMl9IRUFERVJfSE9TVCIsIkhUVFAyX0hFQURFUl9TRVRfQ09PS0lFIiwiTkdIVFRQMl9DQU5DRUwiLCJzZXRQcm90b2NvbCIsInByb3RvY29sIiwicmV***REMOVED***dWVzdCIsIm9wdGlvbnMiLCJSZXF1ZXN0IiwiY2FsbCIsImRlZmF1bHRQb3J0IiwiZGVmYXVsdEhvc3QiLCJwb3J0IiwiaG9zdCIsIm1ldGhvZCIsInBhdGgiLCJzZXNzaW9uT3B0aW9ucyIsInNvY2tldFBhdGgiLCJjcmVhdGVDb25uZWN0aW9uIiwiY3JlYXRlVW5peENvbm5lY3Rpb24iLCJiaW5kIiwiX2hlYWRlcnMiLCJzZXNzaW9uIiwiY29ubmVjdCIsInNldEhlYWRlciIsIm9uIiwiZXJyIiwiZW1pdCIsImluaGVyaXRzIiwicHJvdG90eXBlIiwiYXV0aG9yaXR5IiwiQU***REMOVED***QTlByb3RvY29scyIsInNlcnZlcm5hbWUiLCJhbG***REMOVED***vd0hhbGZPcGVuIiwic2V0Tm9EZW***REMOVED***heSIsImJvb2wiLCJnZXRGcmFtZSIsImZyYW1lIiwiaGVhZGVycyIsIm1hcFRvSHR0cDJIZWFkZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJvbmNlIiwiZm***REMOVED***hZ3MiLCJtYXBUb0h0dHBIZWFkZXIiLCJzdGF0dXNDb2RlIiwic3RhdHVzIiwiX2hlYWRlclNlbnQiLCJjbG9zZSIsImtleXMiLCJodHRwMkhlYWRlcnMiLCJrZXkiLCJ2YW***REMOVED***1ZSIsInRvTG93ZXJDYXNlIiwiQXJyYXkiLCJpc0FycmF5IiwidGVzdCIsIm5hbWUiLCJnZXRIZWFkZXIiLCJ3cml0ZSIsImRhdGEiLCJlbmNvZGluZyIsInBpcGUiLCJzdHJlYW0iLCJlbmQiLCJhYm9ydCIsImRlc3Ryb3kiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQU1BLE1BQU0sR0FBR0MsT0FBTy***REMOVED***DQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsSUFBTUMsSUFBSS***REMOVED***HQUFHRC***REMOVED***PQUFPLENBQUMsTUFBRC***REMOVED***DQUFwQjs7QUFDQS***REMOVED***JQUFNRS***REMOVED***HQUFHLEdBQUdGLE9BQU8sQ0FBQy***REMOVED***LQUFELENBQW5COztBQUNBLElBQU1HLEdBQUcsR0FBR0gsT0FBTy***REMOVED***DQUFDLEtBQUQsQ0FBbkIsQy***REMOVED***DQUNBOzs7ZUFDa0JBLE9BQU8sQ0FBQy***REMOVED***LQUFELEM7SUFBakJJLEssWUFBQUEsSzs7QUFDUi***REMOVED***JQUFNQy***REMOVED***NQUFNLEdBQUdMLE9BQU8sQ0FBQy***REMOVED***RQUFELENBQXRCOztBQUVBLElBQUlNLEtBQUo7QUFDQS***REMOVED***JQUFJRC***REMOVED***NQUFNLENBQUNFLEdBQVAsQ0FBV0MsT0FBTy***REMOVED***DQUFDQy***REMOVED***PQUFuQi***REMOVED***FQUE0Qi***REMOVED***VQUE1Qi***REMOVED***DQUFKLEVBQTZDSC***REMOVED***LQUFLLEdBQUdOLE9BQU8sQ0FBQy***REMOVED***PQUFELENBQWYsQ0FBN0MsS0FFRS***REMOVED***NQUFNLElBQUlVLEtBQUosQ0FBVSw0REFBVi***REMOVED***DQUFOO3VCQVVFSi***REMOVED***LQUFLLENBQUNLLFM7SUFQUkMsaUIsb0JBQUFBLGlCO0lBQ0FDLG1CLG9CQUFBQS***REMOVED***tQjtJQUNBQy***REMOVED***tQi***REMOVED***vQkFBQUEsbUI7SUFDQUMsc0Isb0JBQUFBLHNCO0lBQ0FDLGlCLG9CQUFBQS***REMOVED***pQjtJQUNBQy***REMOVED***1Qi***REMOVED***vQkFBQUEsdUI7SUFDQUMsYy***REMOVED***vQkFBQUEsYzs7QUFHRi***REMOVED***TQUFTQy***REMOVED***XQUFULENBQXFCQy***REMOVED***RQUFyQi***REMOVED***FQUErQjtBQUM3Qi***REMOVED***TQUFPO0FBQ0***REMOVED***DLElBQUFBLE9BREssbUJBQ0dDLE9BREgsRUFDWTtBQUNmLGFBQU8sSUFBSUMsT0FBSi***REMOVED***DQUFZSC***REMOVED***RQUFaLEVBQXNCRS***REMOVED***PQUF0Qi***REMOVED***DQUFQO0FBQ0Q7QUFISS***REMOVED***HQUFQO0FBS0Q7O0FBRUQsU0FBU0MsT0FBVC***REMOVED***DQUFpQkgsUUFBakIsRUFBMkJFLE9BQTNCLEVBQW9DO0FBQUE7O0FBQ2***REMOVED***DdkIsRUFBQUEsTUFBTS***REMOVED***DQUFDeUIsSUFBUC***REMOVED***DQUFZLElBQVo7QUFDQS***REMOVED***NQUFNQy***REMOVED***XQUFXLEdBQUdMLFFBQVEsS0FBSy***REMOVED***RQUFiLEdBQXdCLEdBQXhCLEdBQThCLEVBQW***REMOVED***EO0FBQ0EsTUFBTU0sV0FBVy***REMOVED***HQUFHLFdBQXBCO0FBQ0EsTUFBTUMsSUFBSS***REMOVED***HQUFHTC***REMOVED***PQUFPLENBQUNLLElBQVIsSUFBZ0JGLFdBQTdCO0FBQ0EsTUFBTUcsSUFBSS***REMOVED***HQUFHTi***REMOVED***PQUFPLENBQUNNLElBQVIsSUFBZ0JGLFdBQTdCO0FBRUEsU0FBT0osT0FBTy***REMOVED***DQUFDSy***REMOVED***JQUFmO0FBQ0EsU0FBT0wsT0FBTy***REMOVED***DQUFDTS***REMOVED***JQUFmO0FBRUEsT0FBS0MsTUFBTC***REMOVED***HQUFjUC***REMOVED***PQUFPLENBQUNPLE1BQXRCO0FBQ0EsT0FBS0MsSUFBTC***REMOVED***HQUFZUi***REMOVED***PQUFPLENBQUNRLElBQXBCO0FBQ0EsT0FBS1YsUUFBTC***REMOVED***HQUFnQkEsUUFBaEI7QUFDQS***REMOVED***PQUFLUS***REMOVED***JQUFMLEdBQVlBLElBQVo7QUFFQS***REMOVED***TQUFPTi***REMOVED***PQUFPLENBQUNPLE1BQWY7QUFDQS***REMOVED***TQUFPUC***REMOVED***PQUFPLENBQUNRLElBQWY7O0FBRUEsTUFBTUMsY0FBYy***REMOVED******REMOVED***QkFBUVQsT0FBUi***REMOVED***DQUFwQjs7QUFDQS***REMOVED***NQUFJQS***REMOVED***PQUFPLENBQUNVLFVBQVosRUFBd0I7QUFDdEJELElBQUFBLGNBQWMsQ0FBQ0MsVUFBZi***REMOVED***HQUE0QlYsT0FBTy***REMOVED***DQUFDVS***REMOVED***VQUFwQztBQUNBRC***REMOVED***JQUFBQS***REMOVED***jQUFjLENBQUNFLGdCQUFmLEdBQWtDLEtBQUtDLG9CQUFMLENBQTBCQy***REMOVED***JQUE***REMOVED***Qi***REMOVED***DQUErQi***REMOVED***JQUEvQi***REMOVED***DQUFsQztBQUNEOztBQUVELE9BQUtDLFFBQUwsR0FBZ0IsRUFBaEI7QUFFQS***REMOVED***NQUFNQy***REMOVED***PQUFPLEdBQUcvQi***REMOVED***LQUFLLENBQUNnQy***REMOVED***PQUFOLFdBQWlCbEIsUUFBakIsZUFBOEJRLElBQTlCLGNBQXNDRC***REMOVED***JQUF0Qy***REMOVED***HQUE4Q0ksY0FBOUMsQ0FBaEI7QUFDQS***REMOVED***PQUFLUS***REMOVED***TQUFMLENBQWUsTUFBZi***REMOVED***ZQUEwQlgsSUFBMUIsY0FBa0NELElBQW***REMOVED***DO0FBRUFVLEVBQUFBLE9BQU8sQ0FBQ0csRUFBUi***REMOVED***DQUFXLE9BQVgsRUFBb0IsVUFBQUMsR0FBRztBQUFBLFdBQUksS0FBSS***REMOVED***DQUFDQy***REMOVED***JQUFMLENBQVUsT0FBVi***REMOVED***FQUFtQkQsR0FBbkIsQ0FBSjtBQUFBLEdBQXZCO0FBRUEsT0FBS0osT0FBTC***REMOVED***HQUFlQS***REMOVED***PQUFmO0FBQ0Q7QUFFRDs7Ozs7QUFHQXBDLElBQUksQ0FBQzBDLFFBQUwsQ0FBY3BCLE9BQWQsRUFBdUJ4Qi***REMOVED***NQUF2Qjs7QUFFQXdCLE9BQU8sQ0FBQ3FCLFNBQVIsQ0FBa0JWLG9CQUFsQi***REMOVED***HQUF5Qy***REMOVED***VQUFTVy***REMOVED***TQUFULEVBQW9CdkIsT0FBcEIsRUFBNkI7QUFDcEUsVUFBUS***REMOVED***LQUFLRi***REMOVED***RQUFiO0FBQ0UsU0FBSy***REMOVED***PQUFMO0FBQ0UsYUFBT2***REMOVED***CLEdBQUcsQ0FBQ29DLE9BQUosQ0FBWWhCLE9BQU8sQ0FBQ1UsVUFBcEIsQ0FBUDs7QUFDRi***REMOVED***TQUFLLFFBQUw7QUFDRVYsTUFBQUEsT0FBTy***REMOVED***DQUFDd0IsYUFBUi***REMOVED***HQUF3Qi***REMOVED***DQUFDLElBQUQsQ0FBeEI7QUFDQXhCLE1BQUFBLE9BQU8sQ0FBQ3lCLFVBQVIsR0FBcUIsS0FBS25CLElBQTFCO0FBQ0FOLE1BQUFBLE9BQU8sQ0FBQzBCLGFBQVIsR0FBd0IsSUFBeEI7QUFDQS***REMOVED***hQUFPN0MsR0FBRy***REMOVED***DQUFDbUMsT0FBSi***REMOVED***DQUFZaEIsT0FBTy***REMOVED***DQUFDVS***REMOVED***VQUFwQi***REMOVED***FQUFnQ1YsT0FBaEMsQ0FBUDs7QUFDRjtBQUNFLFlBQU0sSUFBSVosS0FBSi***REMOVED***DQUFVLHNCQUFWLEVBQWtDLEtBQUtVLFFBQXZDLENBQU47QUFUSjtBQVdELENBWkQsQy***REMOVED***DQWNBOzs7QUFDQUcsT0FBTy***REMOVED***DQUFDcUIsU0FBUi***REMOVED***DQUFrQkssVUFBbEIsR0FBK0IsVUFBU0MsSUFBVC***REMOVED***FQUFlLENBQzVDO0FBQ0E7QUFDQTtBQUNELENBSkQ7O0FBTUEzQi***REMOVED***PQUFPLENBQUN***REMOVED***Qi***REMOVED***TQUFSLENBQWtCTy***REMOVED***RQUFsQi***REMOVED***HQUE2Qi***REMOVED***ZQUFXO0FBQUE7QUFBQTs7QUFDdEMsTUFBSS***REMOVED***LQUFLQy***REMOVED***LQUFULEVBQWdCO0FBQ2QsV0FBTy***REMOVED***LQUFLQS***REMOVED***LQUFaO0FBQ0Q7O0FBRUQsTUFBTXZCLE1BQU0sMkNBQ1RqQi***REMOVED***pQkFEUy***REMOVED***FQUNXLEtBQUtrQi***REMOVED***JQURoQiw0QkFFVGhCLG1CQUZTLEVBRWEsS0FBS2UsTUFGbEIsV0FBWjtBQUtBLE1BQUl3Qi***REMOVED***PQUFPLEdBQUcsS0FBS0MsZ0JBQUwsQ0FBc0IsS0FBS2***REMOVED***CLFFBQTNCLENBQWQ7QUFFQWlCLEVBQUFBLE9BQU8sR0FBR0UsTUFBTS***REMOVED***DQUFDQy***REMOVED***NQUFQLENBQWNILE9BQWQsRUFBdUJ4Qi***REMOVED***NQUF2Qi***REMOVED***DQUFWO0FBRUEsTUFBTXVCLEtBQUssR0FBRy***REMOVED***LQUFLZi***REMOVED***PQUFMLENBQWFoQi***REMOVED***PQUFiLENBQXFCZ0MsT0FBckIsQ0FBZC***REMOVED***DQWRzQy***REMOVED***DQWV0Qzs7QUFDQUQsRUFBQUEsS0FBSy***REMOVED***DQUFDSy***REMOVED***JQUFOLENBQVcsVUFBWC***REMOVED***FQUF1Qi***REMOVED***VQUFDSi***REMOVED***PQUFELEVBQVVLLEtBQVYsRUFBb0I7QUFDekNMLElBQUFBLE9BQU8sR0FBRy***REMOVED***NQUFJLENBQUNNLGVBQUwsQ0FBcUJOLE9BQXJCLENBQVY7QUFDQUQsSUFBQUEsS0FBSy***REMOVED***DQUFDQy***REMOVED***PQUFOLEdBQWdCQS***REMOVED***PQUFoQjtBQUNBRC***REMOVED***JQUFBQS***REMOVED***LQUFLLENBQUNRLFVBQU4sR0FBbUJQLE9BQU8sQ0FBQ3hDLG1CQUFELENBQTFCO0FBQ0F1Qy***REMOVED***JQUFBQS***REMOVED***LQUFLLENBQUNTLE1BQU4sR0FBZVQsS0FBSy***REMOVED***DQUFDUS***REMOVED***VQUFyQjs7QUFDQS***REMOVED***JQUFBLE1BQUksQ0FBQ2***REMOVED***CLElBQUwsQ0FBVS***REMOVED***VQUFWLEVBQXNCVS***REMOVED***LQUF0QjtBQUNELEdBTkQ7QUFRQS***REMOVED***PQUFLVS***REMOVED***XQUFMLEdBQW1CLElBQW5CO0FBRUFWLEVBQUFBLEtBQUssQ0FBQ0ssSUFBTi***REMOVED***DQUFXLE9BQVgsRUFBb0I7QUFBQS***REMOVED***XQUFNLE1BQUksQ0FBQ2YsSUFBTC***REMOVED***DQUFVLE9BQVYsQ0FBTjtBQUFBLEdBQXBCO0FBQ0FVLEVBQUFBLEtBQUssQ0FBQ1osRUFBTi***REMOVED***DQUFTLE9BQVQsRUFBa0IsVUFBQUMsR0FBRztBQUFBLFdBQUksTUFBSS***REMOVED***DQUFDQy***REMOVED***JQUFMLENBQVUsT0FBVi***REMOVED***FQUFtQkQsR0FBbkIsQ0FBSjtBQUFBLEdBQXJCO0FBQ0FXLEVBQUFBLEtBQUssQ0FBQ1osRUFBTi***REMOVED***DQUFTLE9BQVQsRUFBa0I7QUFBQS***REMOVED***XQUFNLE1BQUksQ0FBQ0gsT0FBTC***REMOVED***DQUFhMEIsS0FBYi***REMOVED***FQUFOO0FBQUEsR0FBbEI7QUFFQS***REMOVED***PQUFLWC***REMOVED***LQUFMLEdBQWFBLEtBQWI7QUFDQS***REMOVED***TQUFPQS***REMOVED***LQUFQO0FBQ0QsQ0FoQ0Q7O0FBa0NBN0IsT0FBTy***REMOVED***DQUFDcUIsU0FBUi***REMOVED***DQUFrQmUsZUFBbEIsR0FBb0MsVUFBU04sT0FBVC***REMOVED***FQUFrQjtBQUNwRC***REMOVED***NQUFNVy***REMOVED***JQUFJLEdBQUdULE1BQU0sQ0FBQ1MsSUFBUC***REMOVED***DQUFZWC***REMOVED***PQUFaLENBQWI7QUFDQS***REMOVED***NQUFNWS***REMOVED***ZQUFZLEdBQUcsRUFBckI7O0FBQ0EsMkJBQWdCRC***REMOVED***JQUFoQiwyQkFBc0I7QUFBakIsUUFBSUUsR0FBRy***REMOVED***ZQUFQO0FBQ0gsUUFBSUMsS0FBSy***REMOVED***HQUFHZC***REMOVED***PQUFPLENBQUNhLEdBQUQsQ0FBbkI7QUFDQUEsSUFBQUEsR0FBRy***REMOVED***HQUFHQS***REMOVED***HQUFHLENBQUNFLFdBQUosRUFBTjs7QUFDQS***REMOVED***ZQUFRRi***REMOVED***HQUFSO0FBQ0UsV0FBS2pELHVCQUFMO0FBQ0VrRC***REMOVED***RQUFBQS***REMOVED***LQUFLLEdBQUdFLEtBQUssQ0FBQ0MsT0FBTi***REMOVED***DQUFjSC***REMOVED***LQUFkLElBQXVCQS***REMOVED***LQUF2Qi***REMOVED***HQUErQi***REMOVED***DQUFDQS***REMOVED***LQUFELENBQXZDO0FBQ0E7O0FBQ0Y7QUFDRTtBQU***REMOVED***KOztBQVFBRi***REMOVED***JQUFBQS***REMOVED***ZQUFZLENBQUNDLEdBQUQsQ0FBWi***REMOVED***HQUFvQkMsS0FBcEI7QUFDRDs7QUFFRC***REMOVED***TQUFPRi***REMOVED***ZQUFQO0FBQ0QsQ0FsQkQ7O0FBb0JBMUMsT0FBTy***REMOVED***DQUFDcUIsU0FBUi***REMOVED***DQUFrQlUsZ0JBQW***REMOVED***CLEdBQXFDLFVBQVNELE9BQVQsRUFBa0I7QUFDckQsTUFBTVcsSUFBSS***REMOVED***HQUFHVC***REMOVED***NQUFNLENBQUNTLElBQVAsQ0FBWVgsT0FBWi***REMOVED***DQUFiO0FBQ0EsTUFBTVksWUFBWS***REMOVED***HQUFHLEVBQXJCOztBQUNBLDZCQUFnQkQsSUFBaEIsOEJBQXNCO0FBQWpCLFFBQUlFLEdBQUcsY0FBUDtBQUNILFFBQUlDLEtBQUssR0FBR2QsT0FBTy***REMOVED***DQUFDYS***REMOVED***HQUFELENBQW5CO0FBQ0FBLElBQUFBLEdBQUcsR0FBR0EsR0FBRy***REMOVED***DQUFDRS***REMOVED***XQUFKLEVBQU47O0FBQ0EsWUFBUUYsR0FBUjtBQUNFLFdBQUtsRC***REMOVED***pQkFBTDtBQUNFa0QsUUFBQUEsR0FBRy***REMOVED***HQUFHbkQsc0JBQU47QUFDQW9ELFFBQUFBLEtBQUssR0FBRy***REMOVED***5QkFBeUJJLElBQXpCLENBQThCSi***REMOVED***LQUE5Qi***REMOVED***JQUNKL0QsS0FBSy***REMOVED***DQUFDK0QsS0FBRC***REMOVED***DQUFMLENBQWF2Qy***REMOVED***JQURULEdBRUp1Qy***REMOVED***LQUZKO0FBR0E7O0FBQ0Y7QUFDRTtBQVJKOztBQVdBRi***REMOVED***JQUFBQS***REMOVED***ZQUFZLENBQUNDLEdBQUQsQ0FBWi***REMOVED***HQUFvQkMsS0FBcEI7QUFDRDs7QUFFRC***REMOVED***TQUFPRi***REMOVED***ZQUFQO0FBQ0QsQ0FyQkQ7O0FBdUJBMUMsT0FBTy***REMOVED***DQUFDcUIsU0FBUi***REMOVED***DQUFrQkwsU0FBbEIsR0FBOEIsVUFBU2lDLElBQVQsRUFBZUwsS0FBZi***REMOVED***FQUFzQjtBQUNsRC***REMOVED***PQUFLL0IsUUFBTC***REMOVED***DQUFjb0MsSUFBSS***REMOVED***DQUFDSi***REMOVED***XQUFMLEVBQWQsSUFBb0NELEtBQXBDO0FBQ0QsQ0FGRDs7QUFJQTVDLE9BQU8sQ0FBQ3FCLFNBQVIsQ0FBa0I2Qi***REMOVED***TQUFsQi***REMOVED***HQUE4Qi***REMOVED***VQUFTRC***REMOVED***JQUFULEVBQWU7QUFDM0MsU0FBTy***REMOVED***LQUFLcEMsUUFBTC***REMOVED***DQUFjb0MsSUFBSS***REMOVED***DQUFDSi***REMOVED***XQUFMLEVBQWQsQ0FBUDtBQUNELENBRkQ7O0FBSUE3Qy***REMOVED***PQUFPLENBQUN***REMOVED***Qi***REMOVED***TQUFSLENBQWtCOEIsS0FBbEIsR0FBMEIsVUFBU0MsSUFBVC***REMOVED***FQUFlQy***REMOVED***RQUFmLEVBQXlCO0FBQ2pELE1BQU14Qi***REMOVED***LQUFLLEdBQUcsS0FBS0QsUUFBTC***REMOVED***FQUFkO0FBQ0EsU0FBT0MsS0FBSy***REMOVED***DQUFDc0IsS0FBTi***REMOVED***DQUFZQy***REMOVED***JQUFaLEVBQWtCQy***REMOVED***RQUFsQi***REMOVED***DQUFQO0FBQ0QsQ0FIRDs7QUFLQXJELE9BQU8sQ0FBQ3FCLFNBQVIsQ0FBa0JpQy***REMOVED***JQUFsQi***REMOVED***HQUF5Qi***REMOVED***VQUFTQy***REMOVED***NQUFULEVBQWlCeEQsT0FBakIsRUFBMEI7QUFDakQsTUFBTThCLEtBQUssR0FBRy***REMOVED***LQUFLRC***REMOVED***RQUFMLEVBQWQ7QUFDQS***REMOVED***TQUFPQy***REMOVED***LQUFLLENBQUN5Qi***REMOVED***JQUFOLENBQVdDLE1BQVgsRUFBbUJ4RC***REMOVED***PQUFuQi***REMOVED***DQUFQO0FBQ0QsQ0FIRDs7QUFLQUMsT0FBTy***REMOVED***DQUFDcUIsU0FBUi***REMOVED***DQUFrQm1DLEdBQW***REMOVED***CLEdBQXdCLFVBQVNKLElBQVQsRUFBZTtBQUNyQy***REMOVED***NQUFNdkIsS0FBSy***REMOVED***HQUFHLEtBQUtELFFBQUwsRUFBZDtBQUNBQy***REMOVED***FQUFBQS***REMOVED***LQUFLLENBQUMyQi***REMOVED***HQUFOLENBQVVKLElBQVY7QUFDRC***REMOVED***DQUhELEMsQ0FLQTs7O0FBQ0FwRC***REMOVED***PQUFPLENBQUN***REMOVED***Qi***REMOVED***TQUFSLENBQWtCb0MsS0FBbEIsR0FBMEIsVUFBU0wsSUFBVC***REMOVED***FQUFlO0FBQ3ZDLE1BQU12Qi***REMOVED***LQUFLLEdBQUcsS0FBS0QsUUFBTC***REMOVED***FQUFkO0FBQ0FDLEVBQUFBLEtBQUssQ0FBQ1csS0FBTi***REMOVED***DQUFZN0MsY0FBWjtBQUNBLE9BQUttQi***REMOVED***PQUFMLENBQWE0Qy***REMOVED***PQUFiO0FBQ0QsQ0FKRDs7QUFNQUMsT0FBTy***REMOVED***DQUFDL0QsV0FBUi***REMOVED***HQUFzQkEsV0FBdEIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTdHJlYW0gPSByZXF1aXJlKCdzdHJlYW0nKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG5jb25zdCBuZXQgPSByZXF1aXJlKCduZXQnKTtcbmNvbnN0IHRscyA9IHJlcXVpcmUoJ3RscycpO1***REMOVED***uLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGlcbmNvbnN0IHsgcGFyc2UgfSA9IHJlcXVpcmUoJ3VybCcpO1***REMOVED***uY29uc3Qgc2VtdmVyID0gcmV***REMOVED***dWlyZSgnc2VtdmVyJyk7XG5cbm***REMOVED***ldCBodHRwMjtcbmlmIChzZW12ZXIuZ3RlKHByb2Nlc3MudmVyc2lvbiwgJ3Y***REMOVED***MC4***REMOVED***MC4wJykpIGh0dHAyID0gcmV***REMOVED***dWlyZSgnaHR0cDInKTtcbmVsc2VcbiAgdGhyb3cgbmV3IEVycm9yKCdzdXBlcmFnZW50OiB0aGlzIHZlcnNpb24gb2YgTm9kZS5qcyBkb2VzIG5vdCBzdXBwb3J0IGh0dHAyJyk7XG5cbmNvbnN0IHtcbiAgSFRUUDJfSEVBREVSX1BBVEgsXG4gIEhUVFAyX0hFQURFUl9TVEFUVVMsXG4gIEhUVFAyX0hFQURFUl9NRVRIT0QsXG4gIEhUVFAyX0hFQURFUl9BVVRIT1JJVFksXG4gIEhUVFAyX0hFQURFUl9IT1NULF***REMOVED***uICBIVFRQMl9IRUFERVJfU0VUX0NPT0tJRS***REMOVED***cbiAgTkdIVFRQMl9DQU5DRU***REMOVED***cbn0gPSBodHRwMi5jb25zdGFudHM7XG5cbmZ1bmN0aW9uIHNldFByb3RvY29sKHByb3RvY29sKSB7XG4gIHJldHVybiB7XG4gICAgcmV***REMOVED***dWVzdChvcHRpb25zKSB7XG4gICAgICByZXR1cm4gbmV3IFJlcXVlc3QocHJvdG9jb2wsIG9wdGlvbnMpO1***REMOVED***uICAgIH1cbiAgfTtcbn1cbl***REMOVED***uZnVuY3Rpb24gUmV***REMOVED***dWVzdChwcm90b2NvbCwgb3B0aW9ucykge1***REMOVED***uICBTdHJlYW0uY2FsbCh0aGlzKTtcbiAgY29uc3QgZGVmYXVsdFBvcnQgPSBwcm90b2NvbCA9PT0gJ2h0dHBzOicgPyA0NDMgOiA4MDtcbiAgY29uc3QgZGVmYXVsdEhvc3QgPSAnbG9jYW***REMOVED***ob3N0JztcbiAgY29uc3QgcG9ydCA9IG9wdGlvbnMucG9ydCB8fCBkZWZhdW***REMOVED***0UG9ydDtcbiAgY29uc3QgaG9zdCA9IG9wdGlvbnMuaG9zdCB8fCBkZWZhdW***REMOVED***0SG9zdDtcbl***REMOVED***uICBkZW***REMOVED***ldGUgb3B0aW9ucy5wb3J0O1***REMOVED***uICBkZW***REMOVED***ldGUgb3B0aW9ucy5ob3N0O1***REMOVED***uXG4gIHRoaXMubWV0aG9kID0gb3B0aW9ucy5tZXRob2Q7XG4gIHRoaXMucGF0aCA9IG9wdGlvbnMucGF0aDtcbiAgdGhpcy5wcm90b2NvbCA9IHByb3RvY29sO1***REMOVED***uICB0aGlzLmhvc3QgPSBob3N0O1***REMOVED***uXG4gIGRlbGV0ZSBvcHRpb25zLm1ldGhvZDtcbiAgZGVsZXRlIG9wdGlvbnMucGF0aDtcbl***REMOVED***uICBjb25zdCBzZXNzaW9uT3B0aW9ucyA9IHsgLi4ub3B0aW9ucyB9O1***REMOVED***uICBpZiAob3B0aW9ucy5zb2NrZXRQYXRoKSB7XG4gICAgc2Vzc2lvbk9wdGlvbnMuc29ja2V0UGF0aCA9IG9wdGlvbnMuc29ja2V0UGF0aDtcbiAgICBzZXNzaW9uT3B0aW9ucy5jcmVhdGVDb25uZWN0aW9uID0gdGhpcy5jcmVhdGVVbml4Q29ubmVjdGlvbi5iaW5kKHRoaXMpO1***REMOVED***uICB9XG5cbiAgdGhpcy5faGVhZGVycyA9IHt9O1***REMOVED***uXG4gIGNvbnN0IHNlc3Npb24gPSBodHRwMi5jb25uZWN0KGAke3Byb3RvY29sfS8vJHtob3N0fToke3BvcnR9YCwgc2Vzc2lvbk9wdGlvbnMpO1***REMOVED***uICB0aGlzLnNldEhlYWRlcignaG9zdCcsIGAke2hvc3R9OiR7cG9ydH1gKTtcbl***REMOVED***uICBzZXNzaW9uLm9uKCdlcnJvcicsIGVyciA9PiB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKSk7XG5cbiAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cbl***REMOVED***uLyoqXG4gKiBJbmhlcml0IGZyb20gYFN0cmVhbWAgKHdoaWNoIGluaGVyaXRzIGZyb20gYEV2ZW50RW1pdHRlcmApLl***REMOVED***uICovXG51dGlsLmluaGVyaXRzKFJlcXVlc3QsIFN0cmVhbSk7XG5cblJlcXVlc3QucHJvdG90eXBlLmNyZWF0ZVVuaXhDb25uZWN0aW9uID0gZnVuY3Rpb24oYXV0aG9yaXR5LCBvcHRpb25zKSB7XG4gIHN3aXRjaCAodGhpcy5wcm90b2NvbCkge1***REMOVED***uICAgIGNhc2UgJ2h0dHA6JzpcbiAgICAgIHJldHVybiBuZXQuY29ubmVjdChvcHRpb25zLnNvY2tldFBhdGgpO1***REMOVED***uICAgIGNhc2UgJ2h0dHBzOic6XG4gICAgICBvcHRpb25zLkFMUE5Qcm90b2NvbHMgPSBbJ2gyJ107XG4gICAgICBvcHRpb25zLnNlcnZlcm5hbWUgPSB0aGlzLmhvc3Q7XG4gICAgICBvcHRpb25zLmFsbG93SGFsZk9wZW4gPSB0cnVlO1***REMOVED***uICAgICAgcmV0dXJuIHRscy5jb25uZWN0KG9wdGlvbnMuc29ja2V0UGF0aCwgb3B0aW9ucyk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgcHJvdG9jb2wnLCB0aGlzLnByb3RvY29sKTtcbiAgfV***REMOVED***ufTtcbl***REMOVED***uLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5SZXF1ZXN0LnByb3RvdHlwZS5zZXROb0RlbGF5ID0gZnVuY3Rpb24oYm9vbCkge1***REMOVED***uICAvLyBXZSBjYW4gbm90IHVzZSBzZXROb0RlbGF5IHdpdGggSFRUUC8yLl***REMOVED***uICAvLyBOb2RlIDEwIG***REMOVED***pbWl0cyBodHRwMnNlc3Npb24uc29ja2V0IG1ldGhvZHMgdG8gb25lcyBzYWZlIHRvIHVzZSB3aXRoIEhUVFAvMi5cbiAgLy8gU2VlIGFsc28gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwMi5odG1sI2h0dHAyX2h0dHAyc2Vzc2lvbl9zb2NrZXRcbn07XG5cblJlcXVlc3QucHJvdG90eXBlLmdldEZyYW1lID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmZyYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuZnJhbWU7XG4gIH1cbl***REMOVED***uICBjb25zdCBtZXRob2QgPSB7XG4gICAgW0hUVFAyX0hFQURFUl9QQVRIXTogdGhpcy5wYXRoLF***REMOVED***uICAgIFtIVFRQMl9IRUFERVJfTUVUSE9EXTogdGhpcy5tZXRob2RcbiAgfTtcbl***REMOVED***uICBsZXQgaGVhZGVycyA9IHRoaXMubWFwVG9IdHRwMkhlYWRlcih0aGlzLl9oZWFkZXJzKTtcbl***REMOVED***uICBoZWFkZXJzID0gT2JqZWN0LmFzc2lnbihoZWFkZXJzLCBtZXRob2QpO1***REMOVED***uXG4gIGNvbnN0IGZyYW1lID0gdGhpcy5zZXNzaW9uLnJlcXVlc3QoaGVhZGVycyk7XG4gIC8vIGVzbGludC1kaXNhYm***REMOVED***lLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1***REMOVED***uICBmcmFtZS5vbmNlKCdyZXNwb25zZScsIChoZWFkZXJzLCBmbGFncykgPT4ge1***REMOVED***uICAgIGhlYWRlcnMgPSB0aGlzLm1hcFRvSHR0cEhlYWRlcihoZWFkZXJzKTtcbiAgICBmcmFtZS5oZWFkZXJzID0gaGVhZGVycztcbiAgICBmcmFtZS5zdGF0dXNDb2RlID0gaGVhZGVyc1tIVFRQMl9IRUFERVJfU1RBVFVTXTtcbiAgICBmcmFtZS5zdGF0dXMgPSBmcmFtZS5zdGF0dXNDb2RlO1***REMOVED***uICAgIHRoaXMuZW1pdCgncmVzcG9uc2UnLCBmcmFtZSk7XG4gIH0pO1***REMOVED***uXG4gIHRoaXMuX2hlYWRlclNlbnQgPSB0cnVlO1***REMOVED***uXG4gIGZyYW1lLm9uY2UoJ2RyYWluJywgKCkgPT4gdGhpcy5lbWl0KCdkcmFpbicpKTtcbiAgZnJhbWUub24oJ2Vycm9yJywgZXJyID0+IHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpKTtcbiAgZnJhbWUub24oJ2Nsb3NlJywgKCkgPT4gdGhpcy5zZXNzaW9uLmNsb3NlKCkpO1***REMOVED***uXG4gIHRoaXMuZnJhbWUgPSBmcmFtZTtcbiAgcmV0dXJuIGZyYW1lO1***REMOVED***ufTtcbl***REMOVED***uUmV***REMOVED***dWVzdC5wcm90b3R5cGUubWFwVG9IdHRwSGVhZGVyID0gZnVuY3Rpb24oaGVhZGVycykge1***REMOVED***uICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoaGVhZGVycyk7XG4gIGNvbnN0IGh0dHAySGVhZGVycyA9IHt9O1***REMOVED***uICBmb3IgKG***REMOVED***ldCBrZXkgb2Yga2V5cykge1***REMOVED***uICAgIG***REMOVED***ldCB2YW***REMOVED***1ZSA9IGhlYWRlcnNba2V5XTtcbiAgICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICBzd2l0Y2ggKGtleSkge1***REMOVED***uICAgICAgY2FzZSBIVFRQMl9IRUFERVJfU0VUX0NPT0tJRTpcbiAgICAgICAgdmFsdWUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdW***REMOVED***0Ol***REMOVED***uICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBodHRwMkhlYWRlcnNba2V5XSA9IHZhbHVlO1***REMOVED***uICB9XG5cbiAgcmV0dXJuIGh0dHAySGVhZGVycztcbn07XG5cblJlcXVlc3QucHJvdG90eXBlLm1hcFRvSHR0cDJIZWFkZXIgPSBmdW5jdGlvbihoZWFkZXJzKSB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhoZWFkZXJzKTtcbiAgY29uc3QgaHR0cDJIZWFkZXJzID0ge307XG4gIGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgbGV0IHZhbHVlID0gaGVhZGVyc1trZXldO1***REMOVED***uICAgIGtleSA9IGtleS50b0***REMOVED***vd2VyQ2FzZSgpO1***REMOVED***uICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlIEhUVFAyX0hFQURFUl9IT1NUOl***REMOVED***uICAgICAgICBrZXkgPSBIVFRQMl9IRUFERVJfQVVUSE9SSVRZO1***REMOVED***uICAgICAgICB2YW***REMOVED***1ZSA9IC9eaHR0cDpcXC9cXC98Xmh0dHBzOl***REMOVED***cL1***REMOVED***cLy8udGVzdCh2YW***REMOVED***1ZSlcbiAgICAgICAgICA/IHBhcnNlKHZhbHVlKS5ob3N0XG4gICAgICAgICAgOiB2YW***REMOVED***1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdW***REMOVED***0Ol***REMOVED***uICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBodHRwMkhlYWRlcnNba2V5XSA9IHZhbHVlO1***REMOVED***uICB9XG5cbiAgcmV0dXJuIGh0dHAySGVhZGVycztcbn07XG5cblJlcXVlc3QucHJvdG90eXBlLnNldEhlYWRlciA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMuX2hlYWRlcnNbbmFtZS50b0***REMOVED***vd2VyQ2FzZSgpXSA9IHZhbHVlO1***REMOVED***ufTtcbl***REMOVED***uUmV***REMOVED***dWVzdC5wcm90b3R5cGUuZ2V0SGVhZGVyID0gZnVuY3Rpb24obmFtZSkge1***REMOVED***uICByZXR1cm4gdGhpcy5faGVhZGVyc1tuYW1lLnRvTG93ZXJDYXNlKCldO1***REMOVED***ufTtcbl***REMOVED***uUmV***REMOVED***dWVzdC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihkYXRhLCBlbmNvZGluZykge1***REMOVED***uICBjb25zdCBmcmFtZSA9IHRoaXMuZ2V0RnJhbWUoKTtcbiAgcmV0dXJuIGZyYW1lLndyaXRlKGRhdGEsIGVuY29kaW5nKTtcbn07XG5cblJlcXVlc3QucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbihzdHJlYW0sIG9wdGlvbnMpIHtcbiAgY29uc3QgZnJhbWUgPSB0aGlzLmdldEZyYW1lKCk7XG4gIHJldHVybiBmcmFtZS5waXBlKHN0cmVhbSwgb3B0aW9ucyk7XG59O1***REMOVED***uXG5SZXF1ZXN0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbihkYXRhKSB7XG4gIGNvbnN0IGZyYW1lID0gdGhpcy5nZXRGcmFtZSgpO1***REMOVED***uICBmcmFtZS5lbmQoZGF0YSk7XG59O1***REMOVED***uXG4vLyBlc2***REMOVED***pbnQtZGlzYWJsZS1uZXh0LW***REMOVED***pbmUgbm8tdW51c2VkLXZhcnNcblJlcXVlc3QucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24oZGF0YSkge1***REMOVED***uICBjb25zdCBmcmFtZSA9IHRoaXMuZ2V0RnJhbWUoKTtcbiAgZnJhbWUuY2***REMOVED***vc2UoTkdIVFRQMl9DQU5DRUwpO1***REMOVED***uICB0aGlzLnNlc3Npb24uZGVzdHJveSgpO1***REMOVED***ufTtcbl***REMOVED***uZXhwb3J0cy5zZXRQcm90b2NvbCA9IHNldFByb3RvY29sO1***REMOVED***uIl19