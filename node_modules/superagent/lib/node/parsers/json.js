"use strict";

module.e***REMOVED***ports = function (res, fn) {
  res.te***REMOVED***t = '';
  res.setEncoding('utf8');
  res.on('data', function (chunk) {
    res.te***REMOVED***t += chunk;
  });
  res.on('end', function () {
    var body;
    var err;

    try {
      body = res.te***REMOVED***t && JSON.parse(res.te***REMOVED***t);
    } catch (err_) {
      err = err_; // issue #675: return the raw response if the response parsing fails

      err.rawResponse = res.te***REMOVED***t || null; // issue #876: return the http status code if the response parsing fails

      err.statusCode = res.statusCode;
    } finally {
      fn(err, body);
    }
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ub2RlL3BhcnNlcnMvanNvbi5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVzIiwiZm4iLCJ0ZXh0Iiwic2V0RW5jb2RpbmciLCJvbiIsImNodW5rIiwiYm9keSIsImVyciIsIkpTT04iLCJwYXJzZSIsImVycl8iLCJyYXdSZXNwb25zZSIsInN0YXR1c0NvZGUiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUC***REMOVED***HQUFpQi***REMOVED***VQUFTQy***REMOVED***HQUFULEVBQWNDLEVBQWQsRUFBa0I7QUFDakNELEVBQUFBLEdBQUcsQ0FBQ0UsSUFBSi***REMOVED***HQUFXLEVBQVg7QUFDQUYsRUFBQUEsR0FBRy***REMOVED***DQUFDRy***REMOVED***XQUFKLENBQWdCLE1BQWhCO0FBQ0FILEVBQUFBLEdBQUcsQ0FBQ0ksRUFBSi***REMOVED***DQUFPLE1BQVAsRUFBZS***REMOVED***VQUFBQy***REMOVED***LQUFLLEVBQUk7QUFDdEJMLElBQUFBLEdBQUcsQ0FBQ0UsSUFBSi***REMOVED***JQUFZRy***REMOVED***LQUFaO0FBQ0QsR0FGRDtBQUdBTC***REMOVED***FQUFBQS***REMOVED***HQUFHLENBQUNJLEVBQUosQ0FBTy***REMOVED***LQUFQLEVBQWMsWUFBTTtBQUNsQi***REMOVED***RQUFJRS***REMOVED***JQUFKO0FBQ0EsUUFBSUMsR0FBSjs7QUFDQS***REMOVED***RQUFJO0FBQ0ZELE1BQUFBLElBQUksR0FBR04sR0FBRy***REMOVED***DQUFDRS***REMOVED***JQUFKLElBQVlNLElBQUksQ0FBQ0MsS0FBTC***REMOVED***DQUFXVC***REMOVED***HQUFHLENBQUNFLElBQWYsQ0FBbkI7QUFDRC***REMOVED***LQUZELENBRUUsT0FBT1EsSUFBUC***REMOVED***FQUFhO0FBQ2JILE1BQUFBLEdBQUcsR0FBR0csSUFBTi***REMOVED***DQURhLENBRWI7O0FBQ0FILE1BQUFBLEdBQUcsQ0FBQ0ksV0FBSi***REMOVED***HQUFrQlgsR0FBRy***REMOVED***DQUFDRS***REMOVED***JQUFKLElBQVksSUFBOUIsQ0FIYS***REMOVED***DQUliOztBQUNBSy***REMOVED***NQUFBQS***REMOVED***HQUFHLENBQUNLLFVBQUosR0FBaUJaLEdBQUcsQ0FBQ1ksVUFBckI7QUFDRC***REMOVED***LQVJELFNBUVU7QUFDUlgsTUFBQUEsRUFBRS***REMOVED***DQUFDTS***REMOVED***HQUFELEVBQU1ELElBQU4sQ0FBRjtBQUNEO0FBQ0YsR0FkRDtBQWVELENBckJEIiwic291cmNlc0NvbnRlbnQiOlsibW9kdW***REMOVED***lLmV4cG9ydHMgPSBmdW5jdGlvbihyZXMsIGZuKSB7XG4gIHJlcy50ZXh0ID0gJyc7XG4gIHJlcy5zZXRFbmNvZGluZygndXRmOCcpO1***REMOVED***uICByZXMub24oJ2RhdGEnLCBjaHVuayA9PiB7XG4gICAgcmVzLnRleHQgKz0gY2h1bms7XG4gIH0pO1***REMOVED***uICByZXMub24oJ2VuZCcsICgpID0+IHtcbiAgICBsZXQgYm9keTtcbiAgICBsZXQgZXJyO1***REMOVED***uICAgIHRyeSB7XG4gICAgICBib2R5ID0gcmVzLnRleHQgJiYgSlNPTi5wYXJzZShyZXMudGV4dCk7XG4gICAgfSBjYXRjaCAoZXJyXykge1***REMOVED***uICAgICAgZXJyID0gZXJyXztcbiAgICAgIC8vIGlzc3VlICM2NzU6IHJldHVybiB0aGUgcmF3IHJlc3BvbnNlIGlmIHRoZSByZXNwb25zZSBwYXJzaW5nIGZhaW***REMOVED***zXG4gICAgICBlcnIucmF3UmVzcG9uc2UgPSByZXMudGV4dCB8fCBudW***REMOVED***sO1***REMOVED***uICAgICAgLy8gaXNzdWUgIzg3NjogcmV0dXJuIHRoZSBodHRwIHN0YXR1cyBjb2RlIGlmIHRoZSByZXNwb25zZSBwYXJzaW5nIGZhaW***REMOVED***zXG4gICAgICBlcnIuc3RhdHVzQ29kZSA9IHJlcy5zdGF0dXNDb2RlO1***REMOVED***uICAgIH0gZmluYW***REMOVED***seSB7XG4gICAgICBmbihlcnIsIGJvZHkpO1***REMOVED***uICAgIH1cbiAgfSk7XG59O1***REMOVED***uIl19