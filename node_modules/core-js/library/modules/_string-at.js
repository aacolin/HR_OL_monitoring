var toInteger = require('./_to-integer');
var defined = require('./_defined');
// true  -> String#at
// false -> String#codePointAt
module.e***REMOVED***ports = function (TO_STRING) {
  return function (that, pos) {
    var s = String(defined(that));
    var i = toInteger(pos);
    var l = s.length;
    var a, b;
    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0***REMOVED***d800 || a > 0***REMOVED***dbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0***REMOVED***dc00 || b > 0***REMOVED***dfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0***REMOVED***d800 << 10) + (b - 0***REMOVED***dc00) + 0***REMOVED***10000;
  };
};
