/** @internal */
e***REMOVED***port class ConnectionPoolMetrics {
  static readonly TXN = 't***REMOVED***n' as const;
  static readonly CURSOR = 'cursor' as const;
  static readonly OTHER = 'other' as const;

  t***REMOVED***nConnections = 0;
  cursorConnections = 0;
  otherConnections = 0;

  /**
   * Mark a connection as pinned for a specific operation.
   */
  markPinned(pinType: string): void {
    if (pinType === ConnectionPoolMetrics.TXN) {
      this.t***REMOVED***nConnections += 1;
    } else if (pinType === ConnectionPoolMetrics.CURSOR) {
      this.cursorConnections += 1;
    } else {
      this.otherConnections += 1;
    }
  }

  /**
   * Unmark a connection as pinned for an operation.
   */
  markUnpinned(pinType: string): void {
    if (pinType === ConnectionPoolMetrics.TXN) {
      this.t***REMOVED***nConnections -= 1;
    } else if (pinType === ConnectionPoolMetrics.CURSOR) {
      this.cursorConnections -= 1;
    } else {
      this.otherConnections -= 1;
    }
  }

  /**
   * Return information about the cmap metrics as a string.
   */
  info(ma***REMOVED***PoolSize: number): string {
    return (
      'Timed out while checking out a connection from connection pool: ' +
      `ma***REMOVED***PoolSize: ${ma***REMOVED***PoolSize}, ` +
      `connections in use by cursors: ${this.cursorConnections}, ` +
      `connections in use by transactions: ${this.t***REMOVED***nConnections}, ` +
      `connections in use by other operations: ${this.otherConnections}`
    );
  }

  /**
   * Reset the metrics to the initial values.
   */
  reset(): void {
    this.t***REMOVED***nConnections = 0;
    this.cursorConnections = 0;
    this.otherConnections = 0;
  }
}
