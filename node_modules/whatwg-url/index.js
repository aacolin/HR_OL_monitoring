"use strict";

const { URL, URLSearchParams } = require("./webidl2js-wrapper");
const urlStateMachine = require("./lib/url-state-machine");
const percentEncoding = require("./lib/percent-encoding");

const sharedGlobalObject = { Array, Object, Promise, String, TypeError };
URL.install(sharedGlobalObject, ["Window"]);
URLSearchParams.install(sharedGlobalObject, ["Window"]);

e***REMOVED***ports.URL = sharedGlobalObject.URL;
e***REMOVED***ports.URLSearchParams = sharedGlobalObject.URLSearchParams;

e***REMOVED***ports.parseURL = urlStateMachine.parseURL;
e***REMOVED***ports.basicURLParse = urlStateMachine.basicURLParse;
e***REMOVED***ports.serializeURL = urlStateMachine.serializeURL;
e***REMOVED***ports.serializePath = urlStateMachine.serializePath;
e***REMOVED***ports.serializeHost = urlStateMachine.serializeHost;
e***REMOVED***ports.serializeInteger = urlStateMachine.serializeInteger;
e***REMOVED***ports.serializeURLOrigin = urlStateMachine.serializeURLOrigin;
e***REMOVED***ports.setTheUsername = urlStateMachine.setTheUsername;
e***REMOVED***ports.setThePassword = urlStateMachine.setThePassword;
e***REMOVED***ports.cannotHaveAUsernamePasswordPort = urlStateMachine.cannotHaveAUsernamePasswordPort;
e***REMOVED***ports.hasAnOpaquePath = urlStateMachine.hasAnOpaquePath;

e***REMOVED***ports.percentDecodeString = percentEncoding.percentDecodeString;
e***REMOVED***ports.percentDecodeBytes = percentEncoding.percentDecodeBytes;
