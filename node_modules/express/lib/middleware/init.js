/*!
 * e***REMOVED***press
 * Copyright(c) 2009-2013 TJ Holowaychuk
 * Copyright(c) 2013 Roman Shtylman
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */

'use strict';

/**
 * Module dependencies.
 * @private
 */

var setPrototypeOf = require('setprototypeof')

/**
 * Initialization middleware, e***REMOVED***posing the
 * request and response to each other, as well
 * as defaulting the X-Powered-By header field.
 *
 * @param {Function} app
 * @return {Function}
 * @api private
 */

e***REMOVED***ports.init = function(app){
  return function e***REMOVED***pressInit(req, res, ne***REMOVED***t){
    if (app.enabled('***REMOVED***-powered-by')) res.setHeader('X-Powered-By', 'E***REMOVED***press');
    req.res = res;
    res.req = req;
    req.ne***REMOVED***t = ne***REMOVED***t;

    setPrototypeOf(req, app.request)
    setPrototypeOf(res, app.response)

    res.locals = res.locals || Object.create(null);

    ne***REMOVED***t();
  };
};

