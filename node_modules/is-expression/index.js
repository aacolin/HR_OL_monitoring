'use strict';

var acorn = require('acorn');
var objectAssign = require('object-assign');

module.e***REMOVED***ports = isE***REMOVED***pression;

var DEFAULT_OPTIONS = {
  throw: false,
  strict: false,
  lineComment: false
};

function isE***REMOVED***pression(src, options) {
  options = objectAssign({}, DEFAULT_OPTIONS, options);

  try {
    var parser = new acorn.Parser(options, src, 0);

    if (options.strict) {
      parser.strict = true;
    }

    if (!options.lineComment) {
      parser.skipLineComment = function (startSkip) {
        this.raise(this.pos, 'Line comments not allowed in an e***REMOVED***pression');
      };
    }

    parser.ne***REMOVED***tToken();
    parser.parseE***REMOVED***pression();

    if (parser.type !== acorn.tokTypes.eof) {
      parser.une***REMOVED***pected();
    }
  } catch (e***REMOVED***) {
    if (!options.throw) {
      return false;
    }

    throw e***REMOVED***;
  }

  return true;
}
