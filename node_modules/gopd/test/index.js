'use strict';

var test = require('tape');
var gOPD = require('../');

test('gOPD', function (t) {
	t.test('supported', { skip: !gOPD }, function (st) {
		st.equal(typeof gOPD, 'function', 'is a function');

		var obj = { ***REMOVED***: 1 };
		st.ok('***REMOVED***' in obj, 'property e***REMOVED***ists');

		var desc = gOPD(obj, '***REMOVED***');
		st.deepEqual(
			desc,
			{
				configurable: true,
				enumerable: true,
				value: 1,
				writable: true
			},
			'descriptor is as e***REMOVED***pected'
		);

		st.end();
	});

	t.test('not supported', { skip: gOPD }, function (st) {
		st.notOk(gOPD, 'is falsy');

		st.end();
	});

	t.end();
});
